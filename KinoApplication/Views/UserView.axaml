<UserControl
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:vm="clr-namespace:KinoApplication.ViewModels;assembly=KinoApplication"
    xmlns:dgrid="clr-namespace:Avalonia.Controls;assembly=Avalonia.Controls.DataGrid"
    x:Class="KinoApplication.Views.UserView"
    x:DataType="vm:UserViewModel"
    x:CompileBindings="True">

	<UserControl.DataContext>
		<vm:UserViewModel/>
	</UserControl.DataContext>

	<StackPanel Margin="20" Spacing="10" HorizontalAlignment="Center">
		<TextBlock Text="Repertuar" FontSize="24" HorizontalAlignment="Center"/>

		<dgrid:DataGrid
			ItemsSource="{Binding Seanse}"
			AutoGenerateColumns="False"
			IsReadOnly="True"
			Height="250"
			SelectionMode="Single"
			SelectedItem="{Binding WybranySeans}">
			<dgrid:DataGrid.Columns>
				<dgrid:DataGridTextColumn Header="Film" Binding="{Binding Film.Title}"/>
				<dgrid:DataGridTextColumn Header="Sala" Binding="{Binding Sala.Name}"/>
				<dgrid:DataGridTextColumn Header="Data"
					Binding="{Binding Data, StringFormat='{}{0:dd.MM.yyyy HH:mm}'}"/>
				<dgrid:DataGridTextColumn Header="Cena"
					Binding="{Binding Film.Price, StringFormat='${0:0.00}'}"/>
			</dgrid:DataGrid.Columns>
		</dgrid:DataGrid>

		<Button x:Name="WybierzSeansBtn"
				Content="Wybierz seans"
				IsEnabled="{Binding WybranySeans, Converter={StaticResource NotNullToBoolConverter}}"
				Margin="0,10,0,0"/>
	</StackPanel>
</UserControl>
